@page "/payables/vendors/listing"
@page "/payables/vendors/listing/{VendorToSelect:long}"

@using CustomerVehicleManagement.Shared.CustomerVehicleManagement.Shared.Models.Payables.Vendors

<PayablesMenu />

<div class="m-main-content">
    @*    <div class="ui form">*@
    <div class="m-form">
        <div>
            <ContentHeader Header="Vendors" />

            @if (VendorsList == null)
            {
                <p><em>Loading...</em></p>
            }

            @if (VendorsList != null)
            {
                <TelerikGrid Data="VendorsList"
                             OnRowClick="@OnRowSelected"
                             OnRowDoubleClick="@OnEdit"
                             Sortable="true"
                             Pageable="true"
                             FilterMode="GridFilterMode.FilterMenu"
                             ShowColumnMenu="true"
                             SelectionMode="GridSelectionMode.Single"
                             SelectedItemsChanged="@((IEnumerable<VendorToReadInList> vendorList) => OnSelect(vendorList))"
                             SelectedItems="@SelectedList"
                             Class="m-grid"
                             @ref="@Grid">
                    <GridToolBar>
                        <TelerikCheckBox Id="myCheckBox" @bind-Value="@showInactive" />
                        <label for="myCheckBox">Show Inactive</label>
                        @*<TelerikButton OnClick="ResetState"
                            Icon="reset"
                            Title="Reset grid to default layout/columns..."></TelerikButton>*@
                        <span class="k-toolbar-spacer"></span>
                        @*<GridCommandButton Command="ExcelExport"
                                               Icon="file-excel"
                                               Title="Export to Excel"
                                               OnClick="ShowLoadingSign">
                            </GridCommandButton>
                            <GridCommandButton Command="CsvExport"
                                               OnClick="ShowLoadingSign"
                                               Title="Export to CSV"
                                               Icon="file-csv">
                            </GridCommandButton>*@
                        <span class="k-toolbar-spacer"></span>
                        <GridSearchBox />
                    </GridToolBar>
                    @*<GridExport>
                            <GridExcelExport FileName="Organizations" AllPages="true" />
                        </GridExport>*@
                    <GridColumns>
                        <Telerik.Blazor.Components.GridColumn Width="115px" Field="@nameof(VendorToReadInList.VendorCode)" Title="ID"></Telerik.Blazor.Components.GridColumn>
                        <Telerik.Blazor.Components.GridColumn Field="@nameof(VendorToReadInList.Name)" Title="Name"></Telerik.Blazor.Components.GridColumn>
                    </GridColumns>
                </TelerikGrid>
                @*<div>
                        <SfGrid DataSource="@VendorsList"
                                AllowPaging="true"
                                AllowSorting="true"
                                AllowFiltering="true"
                                AllowTextWrap="true"
                                AllowResizing="true"
                                AllowReordering="true"
                                Width="100%"
                                ID="m-invoice-grid"
                                GridLines="GridLine.None"
                                Height="calc(100vh - 386px)"
                                RowHeight="25">
                            <GridFilterSettings Mode="FilterBarMode.Immediate" ImmediateModeDelay="200"></GridFilterSettings>
                            <GridEvents RowSelected="OnRowSelected"
                                        OnRecordDoubleClick="OnEdit"
                                        TValue="VendorToReadInList">
                            </GridEvents>
                            <GridColumns>
                                <Syncfusion.Blazor.Grids.GridColumn Field=@nameof(VendorToReadInList.VendorId)
                                                                    HeaderText="Vendor ID"
                                                                    Width="20%"
                                                                    FilterSettings="@(new FilterSettings { Operator = Operator.Contains })">
                                </Syncfusion.Blazor.Grids.GridColumn>

                                <Syncfusion.Blazor.Grids.GridColumn Field=@nameof(VendorToReadInList.Name)
                                                                    HeaderText="Vendor Name"
                                                                    Width="80%"
                                                                    FilterSettings="@(new FilterSettings { Operator = Operator.Contains })">
                                </Syncfusion.Blazor.Grids.GridColumn>
                            </GridColumns>
                        </SfGrid>
                    </div>*@

                <EditNewDeleteButtons OnDone="@OnDone" OnEdit="@OnEdit" OnNew="@OnAdd" OnDelete="@OnDelete" />
            }
        </div>
    </div>
    @*    </div>  *@
</div>

<style>
    .m-grid {
        min-height: calc(100vh - 248px);
    }
</style>